<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
   <title>My OpenLayers Map</title>
    <script type='text/javascript' src='OpenLayers.js'></script>
    <script type='text/javascript'>
      
      //东经120°
      var lon = 120;
      //北纬39°
      var lat = 39;
      //缩放级别6
      var zoom = 6;

      var map;

      function init() {
        map = new OpenLayers.Map('map_element', {});
        
        //创建基底图层
        var wms_layer_map = new OpenLayers.Layer.WMS(
          'Base layer',
          'http://vmap0.tiles.osgeo.org/wms/vmap0',
          {layers: 'basic'},
          {isBaseLayer: true}
        );

        //创建Label图层
        //设置options的visibility:false使图层不显示
        var wms_layer_labels = new OpenLayers.Layer.WMS(//国家，洲，城市名层
          'Location Labels',
          'http://vmap0.tiles.osgeo.org/wms/vmap0',
          {layers: 'clabel,ctylabel,statelabel', transparent: true},
          {visibility: false, opacity:0.5}//默认不显示该层(但可以图层切换器中打开)
        );

        //创建stateboundary图层
        //layers:stateboundary 向WMS服务请求stateboundary图层
        //设置optioins的displayInLayerSwitcher:false使该图层不显示在Switcher Control
        //minScale表示只有达到一定的缩放比例该图层才会显示
        var wms_state_lines = new OpenLayers.Layer.WMS(//洲界层
          'State Line Layer',
          'http://labs.metacarta.com/wms/vmap0',
          {layers: 'stateboundary', transparent: true},
          {displayInLayerSwitcher: false,  //设置该层不显示在图层切换器中
          minScale: 13841995.078125}//设置一个最小尺度，只有当地图在缩放时达到这个最小尺度时才显示该图层信息
        );

        //创建depthcontour图层
        var wms_water_depth = new OpenLayers.Layer.WMS(
          'Water Depth',
          'http://labs.metacarta.com/wms/vmap0',
          {layers: 'depthcontour', transparent: true},
          {opacity:0.8}
        );

        //创建一些road图层,包括一级公路、二级公路和铁路
        //设置options的transitionEffect: "resize"，使图层放大或缩小时产生调整大小的动画效果
        var wms_roads = new OpenLayers.Layer.WMS(
          'Roads',
          'http://labs.metacarta.com/wms/vmap0',
          {layers: 'priroad,secroad,rail', transparent: true},
          {transistionEffect:'resize'}//让该图层在缩放时呈现重新计算的效果
        );

        map.addLayers([
          wms_layer_map,
          wms_layer_labels,
          wms_state_lines,
          wms_water_depth,
          wms_roads
        ]);

        //设置地图的中心位置
        map.setCenter(new OpenLayers.LonLat(lon, lat), zoom);
        map.addControl(new OpenLayers.Control.LayerSwitcher({}));

        if(!map.getCenter()){
          map.zoomToMaxExtent();
        }
      }

    </script>
</head>

<body onload='init();'>
    <div id='map_element' style='width: 500px; height: 500px;'>
    </div>
</body>
</html>