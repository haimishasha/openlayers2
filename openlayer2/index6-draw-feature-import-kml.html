
<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
   <title>My OpenLayers Map</title>
    <script type='text/javascript' src='OpenLayers.js'></script>
    <script type='text/javascript'>

      var map;
      function init() {

        //初始化map对象
        map = new OpenLayers.Map('map_element', {});//初始化map对象

        //定义第一层
        var wms_layer_map = new OpenLayers.Layer.WMS( //定义第一个层
          'Base layer',
          'http://vmap0.tiles.osgeo.org/wms/vmap0',
          {layers: 'basic'},//layers:'basic' 向WMS服务请求basic图层
          {isBaseLayer: true}//isBaseLayer: 将图层设为基底图层
        );
        //定义第二层
         var china = new OpenLayers.Layer.Vector("KML_china", {
            styleMap: new OpenLayers.StyleMap({
              pointRadius: 3,
              fillColor: "#ffcc66",
              strokeColor: "#ff9933",
              strokeWidth: 2
            }),
            strategies: [new OpenLayers.Strategy.Fixed()],
            protocol: new OpenLayers.Protocol.HTTP({
              url: "kml/bou2_4l.kml",
              format: new OpenLayers.Format.KML({
                extractStyles: false, 
                extractAttributes: false,
                maxDepth: 2
              })
            })
          });
          
        //定义第二层
         var yuer = new OpenLayers.Layer.Vector("KML_yuer", {
            styleMap: new OpenLayers.StyleMap({
              pointRadius: 3,
              fillColor: "black",
              strokeColor: "#ff9933",
              strokeWidth: 2
            }),
            strategies: [new OpenLayers.Strategy.Fixed()],
            protocol: new OpenLayers.Protocol.HTTP({
              url: "kml/byq.kml",
              format: new OpenLayers.Format.KML({
                extractStyles: false, 
                extractAttributes: false,
                maxDepth: 2
              })
            })
          });
         
        var wms_layer_labels = new OpenLayers.Layer.WMS(//定义第二个层
          'Location Labels',
          'http://vmap0.tiles.osgeo.org/wms/vmap0',
          {
            layers: 'clabel,ctylabel,statelabel', //layers: 'clabel,ctylabel,statelabel' 向WMS服务请求一些不同的label图层
            transparent: true //transparent:true 从服务器返回的地图图像是透明的
          },
          {opacity: .5}//设置透明度为50%
        );

      map.addLayers([wms_layer_map,china,yuer, wms_layer_labels]);//以数组形式将多个层加入map对象

      map.addControl(new OpenLayers.Control.LayerSwitcher({}));//添加一个层切换器

      if(!map.getCenter()){
        map.zoomToMaxExtent();
      }
       }

    </script>
</head>

<body onload='init();'>
    <div id='map_element' style='width: 500px; height: 500px;'>
    </div>
</body>
</html>